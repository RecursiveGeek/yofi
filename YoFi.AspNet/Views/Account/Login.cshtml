@using System.Collections.Generic
@using System.Linq
@using Microsoft.AspNetCore.Http
@using YoFi.AspNet.Boilerplate.Models 
@model LoginViewModel
@inject SignInManager<ApplicationUser> SignInManager
@inject IConfiguration _config
@{
    var hasbrandconfig = _config.GetSection("Brand").Exists();
    var sitename = hasbrandconfig ? _config["Brand:Name"] : _config["Codebase:Name"];
}
@{
    ViewData["Title"] = "Log in";
}

<main class="form-signin">
    <form asp-route-returnurl="@ViewData["ReturnUrl"]" method="post">

        @if (hasbrandconfig)
        {
            <a class="d-inline-flex align-items-center mb-4 link-dark text-decoration-none" href="/" aria-label="@_config["Brand:Name"]">
                <span class="fs-1"><i class="@_config["Brand:Icon"]"></i> @_config["Brand:Name"]</span>
            </a>
        }

        <h1 class="h4 mb-3 fw-normal">Please sign in</h1>

        <div class="form-floating">
            <input asp-for="Email" type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label asp-for="Email" for="floatingInput">Email address</label>
        </div>
        <div class="form-floating">
            <input asp-for="Password" type="password" class="form-control" id="floatingPassword" placeholder="Password">
            <label asp-for="Password" for="floatingPassword">Password</label>
        </div>

        <div class="checkbox mb-3">
            <label asp-for="RememberMe">
                <input asp-for="RememberMe" />
                @Html.DisplayNameFor(m => m.RememberMe)
            </label>
        </div>
        <button class="w-100 btn btn-lg btn-primary mb-3" type="submit">Sign in</button>
        <p>or</p>
        <a asp-action="Register" asp-route-returnurl="@ViewData["ReturnUrl"]" class="w-100 btn btn-lg btn-secondary">Create Account</a>
        <hr />
        <a asp-action="ForgotPassword" class="w-100 btn btn-lg btn-light">Forgot Password?</a>
    </form>
</main>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
