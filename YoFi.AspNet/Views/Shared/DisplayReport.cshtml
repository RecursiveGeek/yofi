@model YoFi.Core.Reports.IDisplayReport
@{
    var datatestid = $"report-{Model.Definition}";
}
<table class="table report" data-test-id="@datatestid">
    <thead>
        <tr>
        <tr class="report-header">
            <th>@Model.Name</th>
            @foreach (var column in Model.ColumnLabelsFiltered)
            {
                <th class="report-col-amount">
                    @(column.IsTotal ? "$ Total" : column.Name)
                </th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach (var row in Model.RowLabelsOrdered)
        {
            var rowformat = row.IsTotal ? "report-row-total" : $"report-row-{row.Level + Model.DisplayLevelAdjustment}";
            <tr class="@rowformat">

                <td class="report-col-name">
                    @{
                        var name = row.Name;
                        if (row.IsTotal)
                        {
                            name = "Total";

                        }
                        if (name == null)
                        {
                            name = "-";
                        }
                    }
                    @name
                </td>

                @foreach (var column in Model.ColumnLabelsFiltered)
                {
                    var cell = Model[column, row];

                    var colformat = "report-col-amount" + (column.IsTotal ? " report-col-total" : string.Empty);

                    var cellformat = column.DisplayAsPercent ? "P0" : "C0";

                    var testid = (row.IsTotal && !string.IsNullOrEmpty(column.UniqueID)) ? $"data-test-id=total-{column.UniqueID}" : string.Empty;

                    <td class="@colformat" @testid>
                        @cell.ToString(cellformat)
                    </td>
                }
            </tr>
        }
    </tbody>
</table>
